# Name of the plugin.
name=SL Works With All Hubs App Event Retry Manager
category=Works With All Hubs

# This plugin is part of the Works With All Hubs release
released=wwah

# Any string is allowable here.  Generally it is either: Production Ready, Test Tool, or Requires Extending
qualityString=Alpha Release

# This must be one of the following:  productionReady, testTool, extensionNeeded
quality=development

#Description of the plugin.
description=Silicon Labs proprietary Works With All Hubs (WWAH) app event retry manager.

# List of .c files that need to be compiled and linked in.
sourceFiles=wwah-app-event-retry-manager.c

# List of callbacks implemented by this plugin
# TODO: This is not good here...
# implementedCallbacks=emberAfWwahAppEventRetryManagerInitCallback

# List of callbacks defined by this plugin
definedCallbacks=emberAfWwahAppEventRetryManagerConfigBackoffParamsCallback,emberAfWwahAppEventRetryManagerSetBackoffParamsToDefault,emberAfPluginWwahAppEventRetryManagerWriteAttributeEnabled,emberAfPluginWwahAppEventRetryManagerWriteAttributeQueueSize

# Turn this on by default
includedByDefault=false

# Which clusters does it depend on
dependsOnClusterServer=sl works with all hubs

# Required API
requiredApis=critical-message-queue

setup(token) {
  files=wwah-app-event-retry-manager-tokens.h
}

options=queueSize, firstBackoffTimeSec, backoffSequenceCommonRatio, maxBackoffTimeSec, unlimitedRetries, maxRetryAttempts

queueSize.name=State Change Queue Size
queueSize.description=This option controls the number of entries in the transaction queue.
queueSize.type=NUMBER:1,128
queueSize.default=10

firstBackoffTimeSec.name=First Backoff Time
firstBackoffTimeSec.description=This option controls the first backoff time in seconds.
firstBackoffTimeSec.type=NUMBER:1,255
firstBackoffTimeSec.default=3

backoffSequenceCommonRatio.name=Backoff Sequence Common Ratio
backoffSequenceCommonRatio.description=This option controls the common ratio (ie. multiplier) of the backoff sequence.
backoffSequenceCommonRatio.type=NUMBER:1,255
backoffSequenceCommonRatio.default=2

maxBackoffTimeSec.name=Maximum Backoff Time
maxBackoffTimeSec.description=This option controls the maximum of the backoff time in seconds.
maxBackoffTimeSec.type=NUMBER:1,86400
maxBackoffTimeSec.default=12

unlimitedRetries.name=Unlimite Retries
unlimitedRetries.description=This option controls unlimited retries.
unlimitedRetries.type=BOOLEAN
unlimitedRetries.default=true

maxRetryAttempts.name=Maximum Number of Retry Attempts
maxRetryAttempts.description=This option controls the maximum number of retry attempts. Note, this is discarded if the Unlimited Retries option is checked.
maxRetryAttempts.type=NUMBER:1,254
maxRetryAttempts.default=100
