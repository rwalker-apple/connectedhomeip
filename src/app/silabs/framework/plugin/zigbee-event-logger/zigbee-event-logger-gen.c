/**
 *
 *    Copyright (c) 2020 Project CHIP Authors
 *
 *    Licensed under the Apache License, Version 2.0 (the "License");
 *    you may not use this file except in compliance with the License.
 *    You may obtain a copy of the License at
 *
 *        http://www.apache.org/licenses/LICENSE-2.0
 *
 *    Unless required by applicable law or agreed to in writing, software
 *    distributed under the License is distributed on an "AS IS" BASIS,
 *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *    See the License for the specific language governing permissions and
 *    limitations under the License.
 */

/**
 *
 *    Copyright (c) 2020 Silicon Labs
 *
 *    Licensed under the Apache License, Version 2.0 (the "License");
 *    you may not use this file except in compliance with the License.
 *    You may obtain a copy of the License at
 *
 *        http://www.apache.org/licenses/LICENSE-2.0
 *
 *    Unless required by applicable law or agreed to in writing, software
 *    distributed under the License is distributed on an "AS IS" BASIS,
 *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *    See the License for the specific language governing permissions and
 *    limitations under the License.
 */
// GENERATED FILE DO NOT MODIFY
// Generated by: generate-zigbee-logger-files.py -y zigbee_logger.yaml

#include "../../include/af.h"
#include "stack/include/zigbee-event-logger-gen.h"
#include "zigbee-event-logger-internal.h"
#include "app/framework/plugin/compact-logger/compact-logger.h"

void emberAfPluginZigBeeEventLoggerAddBootEvent(uint32_t bootCount, uint16_t resetType)
{
  // Values for resetType are found in micro.h and reset-def.h.
  uint8_t bootEventData[EMBER_LOGGER_ZIGBEE_BOOT_EVENT_LENGTH];
  uint8_t *ptr = bootEventData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_BASE)) {
    return;
  }

  ptr = addUint32_t(ptr, bootCount);
  ptr = addUint16_t(ptr, resetType);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_BOOT_EVENT_ID,
                                EMBER_LOGGER_ZIGBEE_BOOT_EVENT_LENGTH,
                                bootEventData);
}

void emberAfPluginZigBeeEventLoggerAddJoinNetwork(EmberPanId panId, uint8_t channelNumber, uint8_t page, uint8_t *extendedPanId)
{
  uint8_t joinNetworkData[EMBER_LOGGER_ZIGBEE_JOIN_NETWORK_LENGTH];
  uint8_t *ptr = joinNetworkData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_BASE)) {
    return;
  }

  ptr = addUint16_t(ptr, panId);
  ptr = addUint8_t(ptr, channelNumber);
  ptr = addUint8_t(ptr, page);
  ptr = addArray(ptr, extendedPanId, EXTENDED_PAN_ID_SIZE);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_JOIN_NETWORK_ID,
                                EMBER_LOGGER_ZIGBEE_JOIN_NETWORK_LENGTH,
                                joinNetworkData);
}

void emberAfPluginZigBeeEventLoggerAddTrustCenterRejoin(uint32_t channelMask, EmberRejoinReason reason)
{
  uint8_t trustCenterRejoinData[EMBER_LOGGER_ZIGBEE_TRUST_CENTER_REJOIN_LENGTH];
  uint8_t *ptr = trustCenterRejoinData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint32_t(ptr, channelMask);
  ptr = addUint8_t(ptr, reason);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_TRUST_CENTER_REJOIN_ID,
                                EMBER_LOGGER_ZIGBEE_TRUST_CENTER_REJOIN_LENGTH,
                                trustCenterRejoinData);
}

void emberAfPluginZigBeeEventLoggerAddSecureRejoin(uint32_t channelMask, EmberRejoinReason reason)
{
  uint8_t secureRejoinData[EMBER_LOGGER_ZIGBEE_SECURE_REJOIN_LENGTH];
  uint8_t *ptr = secureRejoinData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint32_t(ptr, channelMask);
  ptr = addUint8_t(ptr, reason);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_SECURE_REJOIN_ID,
                                EMBER_LOGGER_ZIGBEE_SECURE_REJOIN_LENGTH,
                                secureRejoinData);
}

void emberAfPluginZigBeeEventLoggerAddLeaveWithoutRejoin(EmberNodeId sourceNode, EmberLeaveReason reason)
{
  uint8_t leaveWithoutRejoinData[EMBER_LOGGER_ZIGBEE_LEAVE_WITHOUT_REJOIN_LENGTH];
  uint8_t *ptr = leaveWithoutRejoinData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint16_t(ptr, sourceNode);
  ptr = addUint8_t(ptr, reason);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_LEAVE_WITHOUT_REJOIN_ID,
                                EMBER_LOGGER_ZIGBEE_LEAVE_WITHOUT_REJOIN_LENGTH,
                                leaveWithoutRejoinData);
}

void emberAfPluginZigBeeEventLoggerAddLeaveWithRejoin(EmberNodeId sourceNode, EmberLeaveReason reason)
{
  uint8_t leaveWithRejoinData[EMBER_LOGGER_ZIGBEE_LEAVE_WITH_REJOIN_LENGTH];
  uint8_t *ptr = leaveWithRejoinData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint16_t(ptr, sourceNode);
  ptr = addUint8_t(ptr, reason);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_LEAVE_WITH_REJOIN_ID,
                                EMBER_LOGGER_ZIGBEE_LEAVE_WITH_REJOIN_LENGTH,
                                leaveWithRejoinData);
}

void emberAfPluginZigBeeEventLoggerAddTrustCenterLinkKeyChange(void)
{
  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_SECURITY)) {
    return;
  }

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_TRUST_CENTER_LINK_KEY_CHANGE_ID,
                                EMBER_LOGGER_ZIGBEE_TRUST_CENTER_LINK_KEY_CHANGE_LENGTH,
                                NULL);
}

void emberAfPluginZigBeeEventLoggerAddNetworkKeySequenceChange(uint8_t sequence)
{
  uint8_t networkKeySequenceChangeData[EMBER_LOGGER_ZIGBEE_NETWORK_KEY_SEQUENCE_NUMBER_CHANGE_LENGTH];
  uint8_t *ptr = networkKeySequenceChangeData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_SECURITY)) {
    return;
  }

  ptr = addUint8_t(ptr, sequence);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_NETWORK_KEY_SEQUENCE_NUMBER_CHANGE_ID,
                                EMBER_LOGGER_ZIGBEE_NETWORK_KEY_SEQUENCE_NUMBER_CHANGE_LENGTH,
                                networkKeySequenceChangeData);
}

void emberAfPluginZigBeeEventLoggerAddReset(uint8_t resetCode, uint8_t extendedReason)
{
  uint8_t resetData[EMBER_LOGGER_ZIGBEE_RESET_LENGTH];
  uint8_t *ptr = resetData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_SECURITY)) {
    return;
  }

  ptr = addUint8_t(ptr, resetCode);
  ptr = addUint8_t(ptr, extendedReason);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_RESET_ID,
                                EMBER_LOGGER_ZIGBEE_RESET_LENGTH,
                                resetData);
}

void emberAfPluginZigBeeEventLoggerAddChannelChange(uint8_t page, uint8_t channel)
{
  uint8_t channelChangeData[EMBER_LOGGER_ZIGBEE_CHANNEL_CHANGE_LENGTH];
  uint8_t *ptr = channelChangeData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_MAC)) {
    return;
  }

  ptr = addUint8_t(ptr, page);
  ptr = addUint8_t(ptr, channel);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_CHANNEL_CHANGE_ID,
                                EMBER_LOGGER_ZIGBEE_CHANNEL_CHANGE_LENGTH,
                                channelChangeData);
}

void emberAfPluginZigBeeEventLoggerAddParentChange(EmberNodeId parentNodeId, EmberEUI64 parentEui64)
{
  uint8_t parentChangeData[EMBER_LOGGER_ZIGBEE_PARENT_CHANGE_LENGTH];
  uint8_t *ptr = parentChangeData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint16_t(ptr, parentNodeId);
  ptr = addArray(ptr, parentEui64, EUI64_SIZE);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_PARENT_CHANGE_ID,
                                EMBER_LOGGER_ZIGBEE_PARENT_CHANGE_LENGTH,
                                parentChangeData);
}

void emberAfPluginZigBeeEventLoggerAddDutyCycleChange(EmberDutyCycleState state, EmberDutyCycleHectoPct limitThreshold, EmberDutyCycleHectoPct criticalThreshold, EmberDutyCycleHectoPct suspendedLimit)
{
  uint8_t dutyCycleChangeData[EMBER_LOGGER_ZIGBEE_DUTY_CYCLE_CHANGE_LENGTH];
  uint8_t *ptr = dutyCycleChangeData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint8_t(ptr, state);
  ptr = addUint16_t(ptr, limitThreshold);
  ptr = addUint16_t(ptr, criticalThreshold);
  ptr = addUint16_t(ptr, suspendedLimit);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_DUTY_CYCLE_CHANGE_ID,
                                EMBER_LOGGER_ZIGBEE_DUTY_CYCLE_CHANGE_LENGTH,
                                dutyCycleChangeData);
}

void emberAfPluginZigBeeEventLoggerAddChildAdded(EmberNodeId childNodeId, EmberEUI64 childEui64)
{
  uint8_t childAddedData[EMBER_LOGGER_ZIGBEE_CHILD_ADDED_LENGTH];
  uint8_t *ptr = childAddedData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint16_t(ptr, childNodeId);
  ptr = addArray(ptr, childEui64, EUI64_SIZE);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_CHILD_ADDED_ID,
                                EMBER_LOGGER_ZIGBEE_CHILD_ADDED_LENGTH,
                                childAddedData);
}

void emberAfPluginZigBeeEventLoggerAddChildRemoved(EmberNodeId childNodeId, EmberEUI64 childEui64)
{
  uint8_t childRemovedData[EMBER_LOGGER_ZIGBEE_CHILD_REMOVED_LENGTH];
  uint8_t *ptr = childRemovedData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint16_t(ptr, childNodeId);
  ptr = addArray(ptr, childEui64, EUI64_SIZE);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_CHILD_REMOVED_ID,
                                EMBER_LOGGER_ZIGBEE_CHILD_REMOVED_LENGTH,
                                childRemovedData);
}

void emberAfPluginZigBeeEventLoggerAddChildTimedOut(EmberNodeId childNodeId, EmberEUI64 childEui64)
{
  uint8_t childTimedOutData[EMBER_LOGGER_ZIGBEE_CHILD_TIMED_OUT_LENGTH];
  uint8_t *ptr = childTimedOutData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint16_t(ptr, childNodeId);
  ptr = addArray(ptr, childEui64, EUI64_SIZE);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_CHILD_TIMED_OUT_ID,
                                EMBER_LOGGER_ZIGBEE_CHILD_TIMED_OUT_LENGTH,
                                childTimedOutData);
}

void emberAfPluginZigBeeEventLoggerAddStackStatus(EmberStatus status)
{
  uint8_t stackStatusData[EMBER_LOGGER_ZIGBEE_STACK_STATUS_LENGTH];
  uint8_t *ptr = stackStatusData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_NETWORK)) {
    return;
  }

  ptr = addUint8_t(ptr, status);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_STACK_STATUS_ID,
                                EMBER_LOGGER_ZIGBEE_STACK_STATUS_LENGTH,
                                stackStatusData);
}

void emberAfPluginZigBeeEventLoggerAddTimeSync(uint32_t utcTime, uint32_t secondsSinceBoot)
{
  uint8_t timeSyncData[EMBER_LOGGER_ZIGBEE_TIME_SYNC_LENGTH];
  uint8_t *ptr = timeSyncData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_BASE)) {
    return;
  }

  ptr = addUint32_t(ptr, utcTime);
  ptr = addUint32_t(ptr, secondsSinceBoot);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_TIME_SYNC_ID,
                                EMBER_LOGGER_ZIGBEE_TIME_SYNC_LENGTH,
                                timeSyncData);
}

void emberAfPluginZigBeeEventLoggerAddTrustCenterJoinDecision(EmberNodeId nodeId, uint8_t decision)
{
  uint8_t trustCenterJoinDecisionData[EMBER_LOGGER_ZIGBEE_TRUST_CENTER_JOIN_DECISION_LENGTH];
  uint8_t *ptr = trustCenterJoinDecisionData;

  if (!emberAfPluginCompactLoggerCheckFacilityAndSeverity(EMBER_AF_PLUGIN_COMPACT_LOGGER_SEVERITY_NOTICE,
                                                          EMBER_LOGGER_ZIGBEE_FACILITY_SECURITY)) {
    return;
  }

  ptr = addUint16_t(ptr, nodeId);
  ptr = addUint8_t(ptr, decision);

  emberAfPluginCompactLoggerAdd(EMBER_LOGGER_ZIGBEE_TRUST_CENTER_JOIN_DECISION_ID,
                                EMBER_LOGGER_ZIGBEE_TRUST_CENTER_JOIN_DECISION_LENGTH,
                                trustCenterJoinDecisionData);
}
